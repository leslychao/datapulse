<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.23.xsd">
  <changeSet id="002-ops-raw-files" author="vkim">
    <sql>
      create table if not exists ops.raw_files (
        id bigserial primary key,
        marketplace text not null,
        shop_id text not null,
        token_hash text not null,
        logical_name text not null,
        file_path text not null,
        file_size bigint,
        checksum text,
        created_at timestamptz not null default now()
      );
      create index if not exists ix_raw_files_created on ops.raw_files(created_at desc);
    </sql>
  </changeSet>
</databaseChangeLog>
